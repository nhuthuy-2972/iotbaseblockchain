[{"/home/nhuthuy/newluanvan/webui/admin_manager/src/App.js":"1","/home/nhuthuy/newluanvan/webui/admin_manager/src/components/PrivateRoute.jsx":"2","/home/nhuthuy/newluanvan/webui/admin_manager/src/auth/auth.js":"3","/home/nhuthuy/newluanvan/webui/admin_manager/src/Views/Dashboard.jsx":"4","/home/nhuthuy/newluanvan/webui/admin_manager/src/config/firebase.js":"5","/home/nhuthuy/newluanvan/webui/admin_manager/src/reportWebVitals.js":"6","/home/nhuthuy/newluanvan/webui/admin_manager/src/pages/Admin.jsx":"7","/home/nhuthuy/newluanvan/webui/admin_manager/src/components/AdminRoute.jsx":"8","/home/nhuthuy/newluanvan/webui/admin_manager/src/hook/use-auth.jsx":"9","/home/nhuthuy/newluanvan/webui/admin_manager/src/Views/UserManager.jsx":"10","/home/nhuthuy/newluanvan/webui/admin_manager/src/components/DeviceDialog.jsx":"11","/home/nhuthuy/newluanvan/webui/admin_manager/src/components/DeviceTable.jsx":"12","/home/nhuthuy/newluanvan/webui/admin_manager/src/contexts/auth.js":"13","/home/nhuthuy/newluanvan/webui/admin_manager/src/layouts/TopBar.jsx":"14","/home/nhuthuy/newluanvan/webui/admin_manager/src/index.js":"15","/home/nhuthuy/newluanvan/webui/admin_manager/src/Views/DeviceManager.jsx":"16","/home/nhuthuy/newluanvan/webui/admin_manager/src/layouts/Login.jsx":"17","/home/nhuthuy/newluanvan/webui/admin_manager/src/layouts/Layout.jsx":"18","/home/nhuthuy/newluanvan/webui/admin_manager/src/pages/Menu.jsx":"19","/home/nhuthuy/newluanvan/webui/admin_manager/src/components/DeviceRefreshTokenDialog.jsx":"20","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/reportWebVitals.js":"21","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/layouts/Login.jsx":"22","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/pages/Menu.jsx":"23","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/Views/Dashboard.jsx":"24","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/components/DeviceTable.jsx":"25","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/config/firebase.js":"26","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/Views/DeviceManager.jsx":"27","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/layouts/Layout.jsx":"28","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/pages/Admin.jsx":"29","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/hook/use-auth.jsx":"30","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/layouts/TopBar.jsx":"31","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/components/DeviceDialog.jsx":"32","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/components/DeviceRefreshTokenDialog.jsx":"33","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/App.js":"34"},{"size":1171,"mtime":1607585399685,"results":"35","hashOfConfig":"36"},{"size":650,"mtime":1609232088438,"results":"37","hashOfConfig":"36"},{"size":667,"mtime":1607367177792,"results":"38","hashOfConfig":"36"},{"size":1429,"mtime":1607367177792,"results":"39","hashOfConfig":"36"},{"size":1719,"mtime":1607435437011,"results":"40","hashOfConfig":"36"},{"size":362,"mtime":1607367177792,"results":"41","hashOfConfig":"36"},{"size":533,"mtime":1607501758478,"results":"42","hashOfConfig":"36"},{"size":649,"mtime":1609269970247,"results":"43","hashOfConfig":"36"},{"size":5211,"mtime":1607510094895,"results":"44","hashOfConfig":"36"},{"size":121,"mtime":1607367177792,"results":"45","hashOfConfig":"36"},{"size":6183,"mtime":1609232745701,"results":"46","hashOfConfig":"36"},{"size":10865,"mtime":1609270755976,"results":"47","hashOfConfig":"36"},{"size":1596,"mtime":1607435442899,"results":"48","hashOfConfig":"36"},{"size":3153,"mtime":1609270647714,"results":"49","hashOfConfig":"36"},{"size":546,"mtime":1607499411763,"results":"50","hashOfConfig":"36"},{"size":572,"mtime":1609270376853,"results":"51","hashOfConfig":"36"},{"size":5715,"mtime":1607594285270,"results":"52","hashOfConfig":"36"},{"size":1227,"mtime":1607511083792,"results":"53","hashOfConfig":"36"},{"size":2612,"mtime":1609270055018,"results":"54","hashOfConfig":"36"},{"size":3518,"mtime":1609239551966,"results":"55","hashOfConfig":"36"},{"size":362,"mtime":1607367177792,"results":"56","hashOfConfig":"57"},{"size":5715,"mtime":1607594285270,"results":"58","hashOfConfig":"57"},{"size":2612,"mtime":1609617092656,"results":"59","hashOfConfig":"57"},{"size":1429,"mtime":1607367177792,"results":"60","hashOfConfig":"57"},{"size":10632,"mtime":1609926989345,"results":"61","hashOfConfig":"57"},{"size":1719,"mtime":1607435437011,"results":"62","hashOfConfig":"57"},{"size":733,"mtime":1609617232400,"results":"63","hashOfConfig":"57"},{"size":1227,"mtime":1607511083792,"results":"64","hashOfConfig":"57"},{"size":533,"mtime":1607501758478,"results":"65","hashOfConfig":"57"},{"size":5107,"mtime":1609929213314,"results":"66","hashOfConfig":"57"},{"size":3162,"mtime":1609642921533,"results":"67","hashOfConfig":"57"},{"size":6293,"mtime":1609680056886,"results":"68","hashOfConfig":"57"},{"size":3622,"mtime":1609644234870,"results":"69","hashOfConfig":"57"},{"size":1171,"mtime":1607585399685,"results":"70","hashOfConfig":"57"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"74"},"1rue28q",{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"87"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"96"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"112","messages":"113","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"115"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"87"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"121","messages":"122","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},"1ju5a4w",{"filePath":"126","messages":"127","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"128"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131","usedDeprecatedRules":"132"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"125"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"143"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"150"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"125"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/nhuthuy/newluanvan/webui/admin_manager/src/App.js",["161"],"import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n// import Route from \"./components/PrivateRoute\";\nimport { ProvideAuth } from \"./hook/use-auth\";\nimport { SnackbarProvider } from 'material-ui-snackbar-provider'\n\n// import \"@fortawesome/fontawesome-free/css/all.min.css\";\n// import \"bootstrap-css-only/css/bootstrap.min.css\";\n// import \"mdbreact/dist/css/mdb.css\";\n\nimport Admin from \"./pages/Admin\";\nimport {Layout} from \"./layouts/Layout\"\nimport {Login} from \"./layouts/Login\"\nfunction App() {\n  return (\n    <div className=\"App\">\n    <SnackbarProvider SnackbarProps={{ autoHideDuration: 3000 }}>\n      <ProvideAuth>\n          <Router>\n            <Layout>\n              <Switch>\n                  <Route exact path=\"/\">\n                    {/* <Admin></Admin> */}\n                    <Redirect push to=\"/admin\" />\n                  </Route>\n                  <Route path=\"/admin\">\n                    <Admin />\n                  </Route>\n              </Switch>\n            </Layout>\n          </Router>\n        </ProvideAuth>\n    </SnackbarProvider>\n      \n    </div>\n  );\n}\n\nexport default App;\n",["162","163"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/components/PrivateRoute.jsx",[],"/home/nhuthuy/newluanvan/webui/admin_manager/src/auth/auth.js",[],"/home/nhuthuy/newluanvan/webui/admin_manager/src/Views/Dashboard.jsx",["164","165","166"],"import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport \"./Dashboard.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    color: theme.palette.text.secondary,\n  },\n}));\n\nconst Dasdboard = () => {\n  const classes = useStyles();\n  return (\n    // <Grid container spacing={3} style={{ height: \"100%\" }}>\n    //   <Grid item xs={12}>\n    //     <Paper square className={classes.paper}>\n    //       {process.env.REACT_APP_SECRET_KEY}\n    //     </Paper>\n    //   </Grid>\n    // </Grid>\n    // <div className=\"view intro-2\">\n    //   <div className=\"full-bg-img\">\n    //     <div className=\"mask rgba-black-strong flex-center\">\n    //       <div className=\"container\">\n    //         <div className=\"white-text text-center wow fadeInUp\">\n    //           <h2>This Navbar isn't fixed</h2>\n    //           <h5>When you scroll down it will disappear</h5>\n    //           <br />\n    //           <p>\n    //             Full page intro with background image will be always displayed\n    //             in full screen mode, regardless of device{\" \"}\n    //           </p>\n    //         </div>\n    //       </div>\n    //     </div>\n    //   </div>\n    // </div>\n    <div>ABC</div>\n  );\n};\n\nexport default Dasdboard;\n",["167","168"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/config/firebase.js",[],"/home/nhuthuy/newluanvan/webui/admin_manager/src/reportWebVitals.js",[],["169","170"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/pages/Admin.jsx",[],["171","172"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/components/AdminRoute.jsx",["173","174","175"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/hook/use-auth.jsx",["176","177"],"import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport {useHistory} from 'react-router-dom'\nimport MuiAlert from \"@material-ui/lab/Alert\"\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from 'axios'\n\n// // {\n// //   apiKey: \"AIzaSyDUnozcahXIVhLOFxSNsyzmiXUa6sefkTY\",\n// //   authDomain: \"iotbaseonfabric.firebaseapp.com\",\n// //   databaseURL: \"https://iotbaseonfabric.firebaseio.com\",\n// //   projectId: \"iotbaseonfabric\",\n// //   storageBucket: \"iotbaseonfabric.appspot.com\",\n// //   messagingSenderId: \"1028990275388\",\n// //   appId: \"1:1028990275388:web:398fbc8ae9a8446c559839\",\n// //   measurementId: \"G-JHZP0BRYCN\",\n// // };\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(\n    {\n  apiKey: \"AIzaSyDUnozcahXIVhLOFxSNsyzmiXUa6sefkTY\",\n  authDomain: \"iotbaseonfabric.firebaseapp.com\",\n  databaseURL: \"https://iotbaseonfabric.firebaseio.com\",\n  projectId: \"iotbaseonfabric\",\n  storageBucket: \"iotbaseonfabric.appspot.com\",\n  messagingSenderId: \"1028990275388\",\n  appId: \"1:1028990275388:web:398fbc8ae9a8446c559839\",\n  measurementId: \"G-JHZP0BRYCN\",\n}\n  );\n}\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStylesAlert = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport const fbase = firebase;\nexport const db = firebase.firestore();\n\nconst authContext = createContext({});\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nfunction useProvideAuth() {\n  const history = useHistory();\n  const [state, setState] = useState({\n    initializing: true,\n    user: null,\n    customClaims: null,\n  });\n\n  async function onChange(user) {\n    if (user) {\n      console.log(\"on change\");\n      const tokenResult = await firebase.auth().currentUser.getIdTokenResult();\n      setState({ initializing: false, user, customClaims: tokenResult });\n    } else {\n      console.log(\"NO change\");\n      setState({\n        ...state,\n        initializing: false,\n        user: null,\n        customClaims: null,\n      });\n    }\n  }\n\n  const signin = async (email, password) => {\n    firebase\n      .auth()\n      .setPersistence(firebase.auth.Auth.Persistence.SESSION)\n      .then(async function () {\n\n        try {\n          const v = await firebase\n            .auth()\n            .signInWithEmailAndPassword(email, password);\n      \n          const idtoken = await v.user.getIdToken();\n          const result = await axios({\n            method: \"POST\",\n            url: \"http://localhost:4002/api/admin/setcustomclaims\",\n            headers: {\n              Authorization: \"Bearer \" + idtoken,\n            },\n          });\n      \n          // console.log(result.data);\n          const data = result.data;\n          if (data.status == \"success\" && data) {\n            const newtoken = await firebase.auth().currentUser.getIdToken(true);\n            console.log(\"oke\" ,newtoken);\n            // toaster.positive(`Auth with ${v.user.email}`, {\n            //   autoHideDuration: 5000,\n            // });\n            <Snackbar open={true} autoHideDuration={5000} >\n              <Alert  severity=\"success\">\n                {`Auth with ${v.user.email}`}\n              </Alert>\n            </Snackbar>\n            history.replace('/');\n          }else{\n            // toaster.warning(\"Auth error user does not a admin\", {\n            //   autoHideDuration: 5000,\n            // });\n            <Snackbar open={true} autoHideDuration={5000} >\n              <Alert  severity=\"success\">\n                {\"Auth error user does not a admin\"}\n              </Alert>\n            </Snackbar>\n              firebase.auth().signOut();\n          }\n        } catch (err) {\n          console.log(err);\n          <Snackbar open={true} autoHideDuration={5000} >\n              <Alert  severity=\"success\">\n                {err.message}\n              </Alert>\n            </Snackbar>\n        }\n        // const v = await firebase\n        //   .auth()\n        //   .signInWithEmailAndPassword(email, password);\n\n        // toaster.positive(`Auth with ${v.user.email}`, {\n        //   autoHideDuration: 5000,\n        // });\n        // return v;\n      })\n      .catch(function (error) {\n        // toaster.warning(error.message, {\n        //   autoHideDuration: 5000,\n        // });\n        <Snackbar open={true} autoHideDuration={5000} >\n              <Alert  severity=\"success\">\n                {error.message}\n              </Alert>\n            </Snackbar>\n      });\n  };\n\n  const signout = () => {\n    //history.push('/')\n    sessionStorage.clear();\n    return firebase.auth().signOut();\n  };\n\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged(onChange);\n    return () => unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return {\n    state,\n    signin,\n    signout,\n  };\n}\n",["178","179"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/Views/UserManager.jsx",[],"/home/nhuthuy/newluanvan/webui/admin_manager/src/components/DeviceDialog.jsx",[],"/home/nhuthuy/newluanvan/webui/admin_manager/src/components/DeviceTable.jsx",["180","181","182"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/contexts/auth.js",[],["183","184"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/layouts/TopBar.jsx",["185","186"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/index.js",[],"/home/nhuthuy/newluanvan/webui/admin_manager/src/Views/DeviceManager.jsx",["187"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/layouts/Login.jsx",["188","189","190","191","192","193","194","195","196","197"],"import React from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n// import { useAuth } from \"../contexts/auth\";\nimport {useAuth,fbase} from \"../hook/use-auth\"\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport MuiAlert from \"@material-ui/lab/Alert\"\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { useSnackbar } from 'material-ui-snackbar-provider'\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport axios from 'axios'\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link color=\"inherit\" href=\"#\">\n        IOT BASE ON FABRIC\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  toast: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100vh',\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport const Login = () => {\n  let history = useHistory();\n  // let location = useLocation();\n  // let auth = useAuth();\n  // let { from } = location.state || { from: { pathname: \"/\" } };\n  // let login = () => {\n  //   auth.signin(() => {\n  //     history.replace(from);\n  //   });\n  // };\n  const {signin} = useAuth()\n\n  const [email, setemail] = React.useState(\"\");\n  const [password, setpassword] = React.useState(\"\");\n  const classes = useStyles();\n  const snackbar = useSnackbar()\n\n  const handleSomething = () => {\n    snackbar.showMessage(\n      'Something happened!'\n    )\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(\"Email:\", email, \"Password: \", password);\n    // You should see email and password in console.\n    // ..code to submit form to backend here...\n    // signin(email,password);\n    <div className={classes.root}>\n      <CircularProgress  color=\"secondary\" />\n    </div>\n    fbase\n    .auth()\n    .setPersistence(fbase.auth.Auth.Persistence.SESSION)\n    .then(async function () {\n\n      try {\n        const v = await fbase\n          .auth()\n          .signInWithEmailAndPassword(email, password);\n    \n        const idtoken = await v.user.getIdToken();\n        const result = await axios({\n          method: \"POST\",\n          url: \"http://192.168.0.100:4002/api/admin/setcustomclaims\",\n          headers: {\n            Authorization: \"Bearer \" + idtoken,\n          },\n        });\n\n        // console.log(result.data);\n        const data = result.data;\n        if (data.status == \"success\" && data) {\n          const newtoken = await fbase.auth().currentUser.getIdToken(true);\n          console.log(\"oke\" ,newtoken);\n          // history.replace('/admin')\n          snackbar.showMessage(`Auth with ${v.user.email}`)\n        }else{\n          snackbar.showMessage(`Auth error user does not a admin`)\n          fbase.auth().signOut();\n        }\n      } catch (err) {\n        console.log(err);\n        fbase.auth().signOut();\n        snackbar.showMessage(`Auth error : ${err}`)\n      }\n      \n    })\n    .catch(function (error) {\n      console.log(error.message)\n      snackbar.showMessage(`Auth error : ${error.message}`)\n    });\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Admin Sign in\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            onInput={(e) => setemail(e.target.value)}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            onInput={(e) => setpassword(e.target.value)}\n          />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            onClick={handleSubmit}\n          >\n            Sign In\n          </Button>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n};\n\n// export default Login;\n",["198","199"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/layouts/Layout.jsx",["200","201","202"],"import React from 'react'\n// import { useStyletron } from 'baseui'\n// import { StyledSpinnerNext } from 'baseui/spinner'\n\nimport { useAuth } from '../hook/use-auth'\n\n// import { TopBar } from './TopBar'\nimport  {Login} from './Login'\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {useHistory,Redirect ,Route} from 'react-router-dom'\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100vh',\n    // '& > * + *': {\n    //   marginLeft: theme.spacing(2),\n    // },\n  },\n}));\n\nexport const Layout = ({ title, children }) => {\n  // const [css] = useStyletron()\n  const classes = useStyles();\n  const { state }= useAuth()\n  const history = useHistory()\n  console.log(state)\n  if (state.initializing)\n    return (\n      <div className={classes.root}>\n      <CircularProgress  color=\"secondary\" />\n    </div>\n    )\n  if (!state.user) return <Login />\n    // if (!state.user) return (<Route render={({location})=>{return (<Redirect push to=\"/login\"/>)}} />)\n \n  return (\n    state.customClaims.claims.admin ?  \n    <>\n      {children}\n    </> : <Login/>\n  )\n}\n","/home/nhuthuy/newluanvan/webui/admin_manager/src/pages/Menu.jsx",["203","204"],"/home/nhuthuy/newluanvan/webui/admin_manager/src/components/DeviceRefreshTokenDialog.jsx",["205","206","207","208"],"/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/reportWebVitals.js",[],["209","210"],"/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/layouts/Login.jsx",["211","212","213","214","215","216","217","218","219","220"],["221","222"],"/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/pages/Menu.jsx",["223","224"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\nimport DeviceHubIcon from \"@material-ui/icons/DeviceHub\";\nimport PeopleIcon from \"@material-ui/icons/People\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    maxWidth: 250,\n    backgroundColor: theme.palette.background.paper,\n  },\n  noneTextDecoration: {\n    textDecoration: \"none\",\n  },\n}));\n\nexport default function Menu() {\n  const classes = useStyles();\n  let pathname = window.location.pathname;\n  let key;\n  if (pathname.localeCompare(\"/admin/dashboard\") === 0) {\n    key = 0;\n  } else if (pathname.localeCompare(\"/admin/devicemanager\") === 0) {\n    key = 1;\n  } else if (pathname.localeCompare(\"/admin/usermanager\") === 0) {\n    key = 2;\n  }\n  const [selectedIndex, setSelectedIndex] = React.useState(key);\n\n  const handleListItemClick = (event, index) => {\n    setSelectedIndex(index);\n  };\n\n  return (\n    <div className={classes.root}>\n      <List component=\"nav\" aria-label=\"main mailbox folders\">\n        {/* <Link className={classes.noneTextDecoration} to=\"/admin/dashboard\">\n          <ListItem\n            button\n            selected={selectedIndex === 0}\n            onClick={(event) => handleListItemClick(event, 0)}\n          >\n            <ListItemIcon>\n              <DashboardIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Dashboard\" />\n          </ListItem>\n        </Link> */}\n        <Link className={classes.noneTextDecoration} to=\"/admin/devicemanager\">\n          <ListItem\n            button\n            selected={selectedIndex === 1}\n            onClick={(event) => handleListItemClick(event, 1)}\n          >\n            <ListItemIcon>\n              <DeviceHubIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Device Manager\" />\n          </ListItem>\n        </Link>\n        {/* <Link className={classes.noneTextDecoration} to=\"/admin/usermanager\">\n          <ListItem\n            button\n            selected={selectedIndex === 2}\n            onClick={(event) => handleListItemClick(event, 2)}\n          >\n            <ListItemIcon>\n              <PeopleIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"User Manager\" />\n          </ListItem>\n        </Link> */}\n      </List>\n    </div>\n  );\n}\n",["225","226"],"/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/Views/Dashboard.jsx",["227","228","229"],"/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/components/DeviceTable.jsx",["230","231"],"import React from \"react\";\nimport firebase from \"../config/firebase\";\nimport { db } from \"../hook/use-auth\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport DeviceDialog from \"./DeviceDialog\";\nimport DeviceRefreshTokenDialog from \"./DeviceRefreshTokenDialog\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\n\nimport InputBase from \"@material-ui/core/InputBase\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Divider from \"@material-ui/core/Divider\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\nimport { colors } from \"@material-ui/core\";\n\nconst columns = [\n  { id: \"date\", label: \"Thời gian\", minWidth: 60 },\n  { id: \"deviceID\", label: \"ID thiết bị\", minWidth: 60 },\n  { id: \"device_name\", label: \"Tên thiết bị\", minWidth: 60 },\n  {\n    id: \"email\",\n    label: \"Chủ sở hữu\",\n    minWidth: 60,\n    format: (value) => value.toLocaleString(\"en-US\"),\n  },\n  {\n    id: \"device_desc\",\n    label: \"Thông tin thiết bị\",\n    minWidth: 60,\n    format: (value) => value.toLocaleString(\"en-US\"),\n  },\n  {\n    id: \"actived\",\n    label: \"Trạng thái\",\n    minWidth: 70,\n    format: (value) => value.toFixed(2),\n  },\n  {\n    id: \"refreshtoken\",\n    label: \"Làm mới token\",\n    minWidth: 70,\n    format: (value) => value.toFixed(2),\n  },\n];\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n  },\n  container: {\n    height: 440,\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n});\n\nexport default function StickyHeadTable() {\n  const [data, setData] = React.useState([]);\n  const [backupdata, setBackup] = React.useState([]);\n  const [searchKey, setSearchKey] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    const unsubscriber = db\n      .collection(\"devices\")\n      .onSnapshot(async (snapShot) => {\n        let devices = [];\n        setLoading(false);\n        snapShot.forEach(async (doc) => {\n          // console.log(doc.data())\n          let device = doc.data();\n          device.deviceID = doc.id;\n          devices.push(device);\n        });\n        console.log(\"snap shot\");\n        setData(devices);\n        setBackup(devices);\n        setLoading(true);\n      });\n\n    return () => unsubscriber();\n  }, []);\n\n  const searchDevice = () => {\n    console.log(\"SEARCHDEVICE\");\n    setLoading(false);\n    const result = [];\n    const listdevice = backupdata;\n    for (let i in listdevice) {\n      // const deviceID: any = listdevice[i].deviceID\n      // console.log(deviceID)\n      if (listdevice[i].deviceID.includes(searchKey)) {\n        console.log(\"co chua\");\n        result.push(listdevice[i]);\n      }\n    }\n\n    setData(result);\n    setLoading(true);\n  };\n\n  const searchActivedDevice = () => {\n    console.log(\"SEARCHDEVICE\");\n    setLoading(false);\n    const result = [];\n    const listdevice = backupdata;\n    for (let i in listdevice) {\n      // const deviceID: any = listdevice[i].deviceID\n      // console.log(deviceID)\n      if (listdevice[i].actived === true) {\n        console.log(\"co chua\");\n        result.push(listdevice[i]);\n      }\n    }\n\n    setData(result);\n    setLoading(true);\n  };\n\n  const searchWaitActiveDevice = () => {\n    console.log(\"SEARCHDEVICE\");\n    setLoading(false);\n    const result = [];\n    const listdevice = backupdata;\n    for (let i in listdevice) {\n      // const deviceID: any = listdevice[i].deviceID\n      // console.log(deviceID)\n      if (listdevice[i].actived === false) {\n        console.log(\"co chua\");\n        result.push(listdevice[i]);\n      }\n    }\n\n    setData(result);\n    setLoading(true);\n  };\n\n  const reset = () => {\n    setLoading(true);\n    db.collection(\"devices\")\n      .get()\n      .then(async (snapShot) => {\n        let devices = [];\n        setLoading(false);\n        snapShot.forEach(async (doc) => {\n          // console.log(doc.data())\n          let device = doc.data();\n          device.deviceID = doc.id;\n          devices.push(device);\n        });\n        setData(devices);\n        setBackup(devices);\n        setLoading(true);\n      });\n  };\n\n  console.log(data);\n  const classes = useStyles();\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeSearchKey = (event) => {\n    console.log(event.target.value);\n    setSearchKey(event.target.value);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  return (\n    <Paper className={classes.root} style={{ borderRadius: 10 }}>\n      <div\n        style={{\n          justifyContent: \"flex-end\",\n          display: \"flex\",\n          // backgroundColor: \"#e0e0e0\",\n          borderTopLeftRadius: 10,\n          borderTopRightRadius: 10,\n        }}\n      >\n        <InputBase\n          className={classes.input}\n          placeholder=\"Nhập từ khóa để tìm kiếm\"\n          inputProps={{ \"aria-label\": \"search google maps\" }}\n          onChange={handleChangeSearchKey}\n        />\n        <IconButton\n          type=\"submit\"\n          className={classes.iconButton}\n          aria-label=\"search\"\n          onClick={searchDevice}\n        >\n          <SearchIcon />\n        </IconButton>\n        <Divider className={classes.divider} orientation=\"vertical\" />\n        <IconButton\n          color=\"primary\"\n          className={classes.iconButton}\n          aria-label=\"directions\"\n          onClick={searchActivedDevice}\n        >\n          <CheckCircleIcon />\n        </IconButton>\n        <Divider className={classes.divider} orientation=\"vertical\" />\n        <IconButton\n          color=\"primary\"\n          className={classes.iconButton}\n          aria-label=\"directions\"\n          onClick={searchWaitActiveDevice}\n        >\n          <CancelIcon style={{ color: \"red\" }} />\n        </IconButton>\n        <Divider className={classes.divider} orientation=\"vertical\" />\n        <IconButton\n          color=\"primary\"\n          className={classes.iconButton}\n          aria-label=\"directions\"\n          onClick={reset}\n        >\n          <CachedIcon />\n        </IconButton>\n      </div>\n      <TableContainer className={classes.container}>\n        {loading === false ? (\n          <div\n            style={{\n              justifyContent: \"center\",\n              display: \"flex\",\n              alignItems: \"center\",\n              marginTop: \"15%\",\n            }}\n          >\n            <CircularProgress mx=\"auto\" />\n          </div>\n        ) : (\n          <Table stickyHeader aria-label=\"sticky table\">\n            <TableHead>\n              <TableRow>\n                {columns.map((column) => (\n                  <TableCell\n                    key={column.id}\n                    align={column.align}\n                    style={{ minWidth: column.minWidth, fontWeight: \"bold\" }}\n                  >\n                    {column.label}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n\n            <TableBody>\n              {data\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row, index) => {\n                  return (\n                    <TableRow key={index} hover role=\"checkbox\" tabIndex={-1}>\n                      {columns.map((column) => {\n                        const value = row[column.id];\n                        if (column.id.localeCompare(\"actived\") === 0) {\n                          return (\n                            <TableCell key={column.id} align={column.align}>\n                              {value === true ? (\n                                <DeviceDialog\n                                  deviceID={row[\"deviceID\"]}\n                                  actived={row[\"actived\"]}\n                                  name={row[\"device_name\"]}\n                                  owner={row[\"auth\"]}\n                                  info={row[\"device_desc\"]}\n                                />\n                              ) : (\n                                <DeviceDialog\n                                  deviceID={row[\"deviceID\"]}\n                                  actived={row[\"actived\"]}\n                                  owner={row[\"auth\"]}\n                                  name={row[\"device_name\"]}\n                                  email={row[\"email\"]}\n                                />\n                              )}\n                            </TableCell>\n                          );\n                        } else if (\n                          column.id.localeCompare(\"refreshtoken\") === 0\n                        ) {\n                          return (\n                            <TableCell key={column.id} align={column.align}>\n                              <DeviceRefreshTokenDialog\n                                deviceID={row[\"deviceID\"]}\n                                actived={row[\"actived\"]}\n                                owner={row[\"auth\"]}\n                                name={row[\"device_name\"]}\n                                email={row[\"email\"]}\n                              />\n                            </TableCell>\n                          );\n                        }\n                        return (\n                          <TableCell key={column.id} align={column.align}>\n                            {column.format && typeof value === \"number\"\n                              ? column.format(value)\n                              : value}\n                          </TableCell>\n                        );\n                      })}\n                    </TableRow>\n                  );\n                })}\n            </TableBody>\n          </Table>\n        )}\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[10, 25, 100]}\n        component=\"div\"\n        count={data.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n    </Paper>\n  );\n}\n","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/config/firebase.js",[],"/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/Views/DeviceManager.jsx",["232"],"import React from \"react\";\n// import firebase from \"../config/firebase\";\n\nimport DeviceTable from \"../components/DeviceTable\";\nimport { Grid, Typography } from \"@material-ui/core\";\n\nconst DeviceManager = () => {\n  return (\n    <>\n      <div style={{ marginTop: \"30px\" }}>\n        <div style={{ textAlign: \"center\" }}>QUẢN LÝ THIẾT BỊ</div>\n      </div>\n      <Grid container>\n        <Grid item xs={12}>\n          <div\n            style={{\n              marginLeft: \"2px\",\n              marginTop: \"20px\",\n              marginBottom: \"20px\",\n              marginRight: \"20px\",\n            }}\n          >\n            <DeviceTable />\n          </div>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default DeviceManager;\n",["233","234"],"/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/layouts/Layout.jsx",["235","236","237"],"/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/pages/Admin.jsx",[],"/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/hook/use-auth.jsx",["238","239"],"import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport { useHistory } from \"react-router-dom\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\n\n// // {\n// //   apiKey: \"AIzaSyDUnozcahXIVhLOFxSNsyzmiXUa6sefkTY\",\n// //   authDomain: \"iotbaseonfabric.firebaseapp.com\",\n// //   databaseURL: \"https://iotbaseonfabric.firebaseio.com\",\n// //   projectId: \"iotbaseonfabric\",\n// //   storageBucket: \"iotbaseonfabric.appspot.com\",\n// //   messagingSenderId: \"1028990275388\",\n// //   appId: \"1:1028990275388:web:398fbc8ae9a8446c559839\",\n// //   measurementId: \"G-JHZP0BRYCN\",\n// // };\n\nif (!firebase.apps.length) {\n  firebase.initializeApp({\n    apiKey: \"AIzaSyCFoqpUGjvJIBYGC5pMa_SjFGpbe7_WHmg\",\n    authDomain: \"luanvan-iot-final.firebaseapp.com\",\n    databaseURL: \"https://luanvan-iot-final.firebaseio.com\",\n    projectId: \"luanvan-iot-final\",\n    storageBucket: \"luanvan-iot-final.appspot.com\",\n    messagingSenderId: \"976679303624\",\n    appId: \"1:976679303624:web:e5f01bdcfd6d0fb346a8fd\",\n    measurementId: \"G-FX303DMKTB\",\n  });\n}\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStylesAlert = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport const fbase = firebase;\nexport const db = firebase.firestore();\n\nconst authContext = createContext({});\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nfunction useProvideAuth() {\n  const history = useHistory();\n  const [state, setState] = useState({\n    initializing: true,\n    user: null,\n    customClaims: null,\n  });\n\n  async function onChange(user) {\n    if (user) {\n      console.log(\"on change\");\n      const tokenResult = await firebase.auth().currentUser.getIdTokenResult();\n      setState({ initializing: false, user, customClaims: tokenResult });\n    } else {\n      console.log(\"NO change\");\n      setState({\n        ...state,\n        initializing: false,\n        user: null,\n        customClaims: null,\n      });\n    }\n  }\n\n  const signin = async (email, password) => {\n    firebase\n      .auth()\n      .setPersistence(firebase.auth.Auth.Persistence.SESSION)\n      .then(async function () {\n        try {\n          const v = await firebase\n            .auth()\n            .signInWithEmailAndPassword(email, password);\n\n          const idtoken = await v.user.getIdToken();\n          const result = await axios({\n            method: \"POST\",\n            url: \"http://localhost:4002/api/admin/setcustomclaims\",\n            headers: {\n              Authorization: \"Bearer \" + idtoken,\n            },\n          });\n\n          // console.log(result.data);\n          const data = result.data;\n          if (data.status == \"success\" && data) {\n            const newtoken = await firebase.auth().currentUser.getIdToken(true);\n            console.log(\"oke\", newtoken);\n            // toaster.positive(`Auth with ${v.user.email}`, {\n            //   autoHideDuration: 5000,\n            // });\n            <Snackbar open={true} autoHideDuration={5000}>\n              <Alert severity=\"success\">{`Auth with ${v.user.email}`}</Alert>\n            </Snackbar>;\n            history.replace(\"/\");\n          } else {\n            // toaster.warning(\"Auth error user does not a admin\", {\n            //   autoHideDuration: 5000,\n            // });\n            <Snackbar open={true} autoHideDuration={5000}>\n              <Alert severity=\"success\">\n                {\"Auth error user does not a admin\"}\n              </Alert>\n            </Snackbar>;\n            firebase.auth().signOut();\n          }\n        } catch (err) {\n          console.log(err);\n          <Snackbar open={true} autoHideDuration={5000}>\n            <Alert severity=\"success\">{err.message}</Alert>\n          </Snackbar>;\n        }\n        // const v = await firebase\n        //   .auth()\n        //   .signInWithEmailAndPassword(email, password);\n\n        // toaster.positive(`Auth with ${v.user.email}`, {\n        //   autoHideDuration: 5000,\n        // });\n        // return v;\n      })\n      .catch(function (error) {\n        // toaster.warning(error.message, {\n        //   autoHideDuration: 5000,\n        // });\n        <Snackbar open={true} autoHideDuration={5000}>\n          <Alert severity=\"success\">{error.message}</Alert>\n        </Snackbar>;\n      });\n  };\n\n  const signout = () => {\n    //history.push('/')\n    sessionStorage.clear();\n    return firebase.auth().signOut();\n  };\n\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged(onChange);\n    return () => unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return {\n    state,\n    signin,\n    signout,\n  };\n}\n","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/layouts/TopBar.jsx",["240","241"],"import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Typography,\n  Badge,\n  MenuItem,\n  Menu,\n} from \"@material-ui/core\";\nimport { useAuth } from \"../hook/use-auth\";\n\n// IMPORT ICON\nimport { AccountCircle } from \"@material-ui/icons\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n    },\n  },\n  sectionDesktop: {\n    display: \"flex\",\n  },\n}));\nexport const TopBar = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  // let location = useLocation();\n  const { signout } = useAuth();\n  // const signout = () => {\n  //   auth.signout();\n  // };\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const isMenuOpen = Boolean(anchorEl);\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const menuId = \"primary-search-account-menu\";\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\n      <MenuItem\n        onClick={() => {\n          signout();\n          history.replace(\"/\");\n        }}\n      >\n        Log Out\n      </MenuItem>\n    </Menu>\n  );\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            IOT-NETWORK-ADMIN\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}></div>\n          </div>\n          <div className={classes.grow} />\n          <div className={classes.sectionDesktop}>\n            {/* <IconButton aria-label=\"show 17 new notifications\" color=\"inherit\">\n              <Badge badgeContent={17} color=\"secondary\">\n                <NotificationsIcon />\n              </Badge>\n            </IconButton> */}\n            <IconButton\n              edge=\"end\"\n              signout=\"true\"\n              aria-label=\"account of current user\"\n              aria-controls={menuId}\n              aria-haspopup=\"true\"\n              onClick={handleProfileMenuOpen}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      {renderMenu}\n    </div>\n  );\n};\n// export default TopBar;\n","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/components/DeviceDialog.jsx",[],"/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/components/DeviceRefreshTokenDialog.jsx",["242","243","244","245"],"import React, { useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { useSnackbar } from \"material-ui-snackbar-provider\";\nimport Typography from \"@material-ui/core/Typography\";\n// import MuiAlert from \"@material-ui/lab/Alert\"\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport { CheckCircleIcon, Autorenew } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { useAuth } from \"../hook/use-auth\";\n\n// function Alertt(props) {\n//   return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n// }\n\nexport default function DeviceRefreshTokenDialog({\n  deviceID,\n  actived,\n  owner,\n  email,\n  name,\n}) {\n  const [open, setOpen] = React.useState(false);\n  const [deviceToken, setDeviceToken] = React.useState(\"\");\n  const { state } = useAuth();\n  const snackbar = useSnackbar();\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleActiveBT = async (event) => {\n    event.preventDefault();\n\n    try {\n      const result = await axios({\n        method: \"post\",\n        url: \"http://localhost:4002/api/admin/refreshdevicetoken\",\n        headers: {\n          Authorization: \"Bearer \" + state.customClaims.token,\n        },\n        data: {\n          deviceID: deviceID,\n          auth: owner,\n          oldtoken: deviceToken,\n          deviceName: name,\n          email: email,\n        },\n      });\n      const data = result.data;\n      if (data.success === true) {\n        setOpen(false);\n        snackbar.showMessage(data.message);\n      } else {\n        setOpen(false);\n        snackbar.showMessage(\"Refeshtoken Failed\");\n      }\n    } catch (err) {\n      setOpen(false);\n      snackbar.showMessage(\"Acctive Failed : \", err.message);\n    }\n  };\n\n  useEffect(() => {});\n\n  if (actived === false) {\n    return (\n      <div>\n        <IconButton disabled>\n          <Autorenew disabled />\n        </IconButton>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <IconButton onClick={handleClickOpen}>\n        <Autorenew style={{ color: \"blue\" }} />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          <b>ID Thiết bị:</b> {deviceID}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Vui lòng nhập <b>Token cũ</b> để xác nhận tạo lại mã token.\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"token\"\n            label=\"\"\n            type=\"text\"\n            fullWidth\n            onInput={(e) => setDeviceToken(e.target.value)}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} variant=\"contained\" color=\"secondary\">\n            Hủy bỏ\n          </Button>\n          <Button\n            disabled={deviceToken === \"\" ? true : false}\n            onClick={handleActiveBT}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Đồng Ý\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","/home/nhuthuy/iot-baseon-blockchain/webui/web-admin/src/App.js",["246"],{"ruleId":"247","severity":1,"message":"248","line":18,"column":9,"nodeType":"249","messageId":"250","endLine":18,"endColumn":14},{"ruleId":"251","replacedBy":"252"},{"ruleId":"253","replacedBy":"254"},{"ruleId":"247","severity":1,"message":"255","line":3,"column":8,"nodeType":"249","messageId":"250","endLine":3,"endColumn":13},{"ruleId":"247","severity":1,"message":"256","line":4,"column":8,"nodeType":"249","messageId":"250","endLine":4,"endColumn":12},{"ruleId":"247","severity":1,"message":"257","line":20,"column":9,"nodeType":"249","messageId":"250","endLine":20,"endColumn":16},{"ruleId":"251","replacedBy":"258"},{"ruleId":"253","replacedBy":"259"},{"ruleId":"251","replacedBy":"260"},{"ruleId":"253","replacedBy":"261"},{"ruleId":"251","replacedBy":"262"},{"ruleId":"253","replacedBy":"263"},{"ruleId":"247","severity":1,"message":"264","line":3,"column":8,"nodeType":"249","messageId":"250","endLine":3,"endColumn":20},{"ruleId":"247","severity":1,"message":"265","line":4,"column":8,"nodeType":"249","messageId":"250","endLine":4,"endColumn":17},{"ruleId":"247","severity":1,"message":"266","line":6,"column":8,"nodeType":"249","messageId":"250","endLine":6,"endColumn":19},{"ruleId":"247","severity":1,"message":"267","line":41,"column":7,"nodeType":"249","messageId":"250","endLine":41,"endColumn":21},{"ruleId":"268","severity":1,"message":"269","line":110,"column":27,"nodeType":"270","messageId":"271","endLine":110,"endColumn":29},{"ruleId":"251","replacedBy":"272"},{"ruleId":"253","replacedBy":"273"},{"ruleId":"247","severity":1,"message":"274","line":2,"column":8,"nodeType":"249","messageId":"250","endLine":2,"endColumn":16},{"ruleId":"247","severity":1,"message":"275","line":25,"column":10,"nodeType":"249","messageId":"250","endLine":25,"endColumn":16},{"ruleId":"247","severity":1,"message":"276","line":75,"column":9,"nodeType":"249","messageId":"250","endLine":75,"endColumn":21},{"ruleId":"251","replacedBy":"277"},{"ruleId":"253","replacedBy":"278"},{"ruleId":"247","severity":1,"message":"279","line":10,"column":3,"nodeType":"249","messageId":"250","endLine":10,"endColumn":8},{"ruleId":"247","severity":1,"message":"280","line":19,"column":8,"nodeType":"249","messageId":"250","endLine":19,"endColumn":25},{"ruleId":"247","severity":1,"message":"281","line":5,"column":16,"nodeType":"249","messageId":"250","endLine":5,"endColumn":26},{"ruleId":"247","severity":1,"message":"282","line":2,"column":22,"nodeType":"249","messageId":"250","endLine":2,"endColumn":33},{"ruleId":"247","severity":1,"message":"283","line":9,"column":8,"nodeType":"249","messageId":"250","endLine":9,"endColumn":24},{"ruleId":"247","severity":1,"message":"284","line":10,"column":8,"nodeType":"249","messageId":"250","endLine":10,"endColumn":16},{"ruleId":"247","severity":1,"message":"256","line":12,"column":8,"nodeType":"249","messageId":"250","endLine":12,"endColumn":12},{"ruleId":"247","severity":1,"message":"285","line":19,"column":8,"nodeType":"249","messageId":"250","endLine":19,"endColumn":16},{"ruleId":"247","severity":1,"message":"286","line":24,"column":10,"nodeType":"249","messageId":"250","endLine":24,"endColumn":15},{"ruleId":"247","severity":1,"message":"287","line":76,"column":7,"nodeType":"249","messageId":"250","endLine":76,"endColumn":14},{"ruleId":"247","severity":1,"message":"288","line":85,"column":10,"nodeType":"249","messageId":"250","endLine":85,"endColumn":16},{"ruleId":"247","severity":1,"message":"289","line":92,"column":9,"nodeType":"249","messageId":"250","endLine":92,"endColumn":24},{"ruleId":"268","severity":1,"message":"269","line":128,"column":25,"nodeType":"270","messageId":"271","endLine":128,"endColumn":27},{"ruleId":"251","replacedBy":"290"},{"ruleId":"253","replacedBy":"291"},{"ruleId":"247","severity":1,"message":"292","line":11,"column":20,"nodeType":"249","messageId":"250","endLine":11,"endColumn":28},{"ruleId":"247","severity":1,"message":"293","line":11,"column":30,"nodeType":"249","messageId":"250","endLine":11,"endColumn":35},{"ruleId":"247","severity":1,"message":"287","line":28,"column":9,"nodeType":"249","messageId":"250","endLine":28,"endColumn":16},{"ruleId":"247","severity":1,"message":"294","line":9,"column":8,"nodeType":"249","messageId":"250","endLine":9,"endColumn":21},{"ruleId":"247","severity":1,"message":"295","line":11,"column":8,"nodeType":"249","messageId":"250","endLine":11,"endColumn":18},{"ruleId":"247","severity":1,"message":"286","line":9,"column":8,"nodeType":"249","messageId":"250","endLine":9,"endColumn":13},{"ruleId":"247","severity":1,"message":"281","line":11,"column":8,"nodeType":"249","messageId":"250","endLine":11,"endColumn":18},{"ruleId":"247","severity":1,"message":"296","line":15,"column":8,"nodeType":"249","messageId":"250","endLine":15,"endColumn":18},{"ruleId":"247","severity":1,"message":"297","line":16,"column":10,"nodeType":"249","messageId":"250","endLine":16,"endColumn":25},{"ruleId":"251","replacedBy":"298"},{"ruleId":"253","replacedBy":"299"},{"ruleId":"247","severity":1,"message":"282","line":2,"column":22,"nodeType":"249","messageId":"250","endLine":2,"endColumn":33},{"ruleId":"247","severity":1,"message":"283","line":9,"column":8,"nodeType":"249","messageId":"250","endLine":9,"endColumn":24},{"ruleId":"247","severity":1,"message":"284","line":10,"column":8,"nodeType":"249","messageId":"250","endLine":10,"endColumn":16},{"ruleId":"247","severity":1,"message":"256","line":12,"column":8,"nodeType":"249","messageId":"250","endLine":12,"endColumn":12},{"ruleId":"247","severity":1,"message":"285","line":19,"column":8,"nodeType":"249","messageId":"250","endLine":19,"endColumn":16},{"ruleId":"247","severity":1,"message":"286","line":24,"column":10,"nodeType":"249","messageId":"250","endLine":24,"endColumn":15},{"ruleId":"247","severity":1,"message":"287","line":76,"column":7,"nodeType":"249","messageId":"250","endLine":76,"endColumn":14},{"ruleId":"247","severity":1,"message":"288","line":85,"column":10,"nodeType":"249","messageId":"250","endLine":85,"endColumn":16},{"ruleId":"247","severity":1,"message":"289","line":92,"column":9,"nodeType":"249","messageId":"250","endLine":92,"endColumn":24},{"ruleId":"268","severity":1,"message":"269","line":128,"column":25,"nodeType":"270","messageId":"271","endLine":128,"endColumn":27},{"ruleId":"251","replacedBy":"300"},{"ruleId":"253","replacedBy":"301"},{"ruleId":"247","severity":1,"message":"294","line":9,"column":8,"nodeType":"249","messageId":"250","endLine":9,"endColumn":21},{"ruleId":"247","severity":1,"message":"295","line":11,"column":8,"nodeType":"249","messageId":"250","endLine":11,"endColumn":18},{"ruleId":"251","replacedBy":"302"},{"ruleId":"253","replacedBy":"303"},{"ruleId":"247","severity":1,"message":"255","line":3,"column":8,"nodeType":"249","messageId":"250","endLine":3,"endColumn":13},{"ruleId":"247","severity":1,"message":"256","line":4,"column":8,"nodeType":"249","messageId":"250","endLine":4,"endColumn":12},{"ruleId":"247","severity":1,"message":"257","line":20,"column":9,"nodeType":"249","messageId":"250","endLine":20,"endColumn":16},{"ruleId":"247","severity":1,"message":"274","line":2,"column":8,"nodeType":"249","messageId":"250","endLine":2,"endColumn":16},{"ruleId":"247","severity":1,"message":"275","line":25,"column":10,"nodeType":"249","messageId":"250","endLine":25,"endColumn":16},{"ruleId":"247","severity":1,"message":"281","line":5,"column":16,"nodeType":"249","messageId":"250","endLine":5,"endColumn":26},{"ruleId":"251","replacedBy":"304"},{"ruleId":"253","replacedBy":"305"},{"ruleId":"247","severity":1,"message":"292","line":11,"column":20,"nodeType":"249","messageId":"250","endLine":11,"endColumn":28},{"ruleId":"247","severity":1,"message":"293","line":11,"column":30,"nodeType":"249","messageId":"250","endLine":11,"endColumn":35},{"ruleId":"247","severity":1,"message":"287","line":28,"column":9,"nodeType":"249","messageId":"250","endLine":28,"endColumn":16},{"ruleId":"247","severity":1,"message":"267","line":39,"column":7,"nodeType":"249","messageId":"250","endLine":39,"endColumn":21},{"ruleId":"268","severity":1,"message":"269","line":107,"column":27,"nodeType":"270","messageId":"271","endLine":107,"endColumn":29},{"ruleId":"247","severity":1,"message":"279","line":10,"column":3,"nodeType":"249","messageId":"250","endLine":10,"endColumn":8},{"ruleId":"247","severity":1,"message":"280","line":19,"column":8,"nodeType":"249","messageId":"250","endLine":19,"endColumn":25},{"ruleId":"247","severity":1,"message":"286","line":9,"column":8,"nodeType":"249","messageId":"250","endLine":9,"endColumn":13},{"ruleId":"247","severity":1,"message":"281","line":11,"column":8,"nodeType":"249","messageId":"250","endLine":11,"endColumn":18},{"ruleId":"247","severity":1,"message":"296","line":15,"column":8,"nodeType":"249","messageId":"250","endLine":15,"endColumn":18},{"ruleId":"247","severity":1,"message":"297","line":16,"column":10,"nodeType":"249","messageId":"250","endLine":16,"endColumn":25},{"ruleId":"247","severity":1,"message":"248","line":18,"column":9,"nodeType":"249","messageId":"250","endLine":18,"endColumn":14},"no-unused-vars","'Login' is defined but never used.","Identifier","unusedVar","no-native-reassign",["306"],"no-negated-in-lhs",["307"],"'Paper' is defined but never used.","'Grid' is defined but never used.","'classes' is assigned a value but never used.",["306"],["307"],["306"],["307"],["306"],["307"],"'PrivateRoute' is defined but never used.","'Dashboard' is defined but never used.","'UserManager' is defined but never used.","'useStylesAlert' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["306"],["307"],"'firebase' is defined but never used.","'colors' is defined but never used.","'getAllDevice' is assigned a value but never used.",["306"],["307"],"'Badge' is defined but never used.","'NotificationsIcon' is defined but never used.","'Typography' is defined but never used.","'useLocation' is defined but never used.","'FormControlLabel' is defined but never used.","'Checkbox' is defined but never used.","'Snackbar' is defined but never used.","'Alert' is defined but never used.","'history' is assigned a value but never used.","'signin' is assigned a value but never used.","'handleSomething' is assigned a value but never used.",["306"],["307"],"'Redirect' is defined but never used.","'Route' is defined but never used.","'DashboardIcon' is defined but never used.","'PeopleIcon' is defined but never used.","'CancelIcon' is defined but never used.","'CheckCircleIcon' is defined but never used.",["306"],["307"],["306"],["307"],["306"],["307"],["306"],["307"],"no-global-assign","no-unsafe-negation"]